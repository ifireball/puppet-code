[main]
    # The Puppet log directory.
    # The default value is '$vardir/log'.
    logdir = /var/log/puppet

    # Where Puppet PID files are kept.
    # The default value is '$vardir/run'.
    rundir = /var/run/puppet

    # Where SSL certificates are kept.
    # The default value is '$confdir/ssl'.
    ssldir = $vardir/ssl

    # To enable custom facts
    pluginsync = <%= @pluginsync %>
<% @main_extraopts.each do |key,value| -%>
    <%= key %> = <%= value %>
<% end -%>

[agent]
<% if @report -%>
    # Send report (useful for the Puppet Dashboard)
    report = true

<% end -%>
<% if @puppet_noop -%>
    # Disable running commands. Manual puppet agent runs will allow to
    # apply all pending changes.
    noop = true

<% end -%>
<% @agent_extraopts.each do |key,value| -%>
    <%= key %> = <%= value %>
<% end -%>

